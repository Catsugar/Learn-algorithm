<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Exact Change</title>
</head>

<body>
<script>
// Example cash-in-drawer array:
// [["PENNY", 1.01],-----0.01
// ["NICKEL", 2.05],-----0.05
// ["DIME", 3.10],------0.10
// ["QUARTER", 4.25],----0.25
// ["ONE", 90.00],-----------1
// ["FIVE", 55.00],----------5
// ["TEN", 20.00],-------10
// ["TWENTY", 60.00],------20
// ["ONE HUNDRED", 100.00]]--1
function checkCashRegister(price, cash, cid) {
	var change=[];
	var value=cash-price;
	if(value==0){return "Closed";}
	//算出帧数
	var moneys=[0.01,0.05,0.10,0.25,1,5,10,20,100];
    var nums=[];
    for(var i=0;i<cid.length;i++){
      var a= Math.round(cid[i][1]/moneys[i]);
      nums.push(a);
	}
	account(value);
	//算出
	function account(value){
	  var a=-1;
	  for(var i=0;i<moneys.length;i++){
		if(moneys[i]>value){a=i-1;break;}
	  }
	  if(a===-1){return;}
	  nums[a]=nums[a]-1;
	  value=value-moneys[a];
	  check(cid);
	  change.push(moneys[a]);
	  console.log("****************a"+a);
	  console.log("nums"+nums);
	  console.log("value"+value);
	  console.log("change"+change);
	  if(cid.length===0){
	      if(value===0){
			  console. log("刚刚好："+"Closed");
		      return "Closed"; 
		  }else {
			  console. log("不够找："+"Insufficient Funds");
		      return "Insufficient Funds";
		  }
	  }else if(cid.length!==0){
		  if(value===0){
		      console. log("最后的找钱："+change);
		      return change;
	      }else{
		      account(value);
	      }
	   }
	}
	//检查还有没有钱
	function check(C) {
		for(var i=0;i<C.length;i++ ){
			if(C[i][1]===0){C.slice(i,1)};
		}
		return C;
	}
	
}


checkCashRegister(10.50, 20.00, [["PENNY", 1.01], ["NICKEL", 2.05], ["DIME", 3.10], ["QUARTER", 4.25], ["ONE", 90.00], ["FIVE", 55.00], ["TEN", 20.00], ["TWENTY", 60.00], ["ONE HUNDRED", 100.00]]);
</script>
</body>
</html>
